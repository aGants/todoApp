let addMessage=document.querySelector(".today-add__message"),todo=document.querySelector(".today-list"),todoList=[],lvl="",lvlNumber="1";function displayMessage(){let e="";todoList.forEach((function(t,l){e+=`\n        <li class = 'today-list__item' >\n            <input type = 'checkbox' id = 'item_${l}' ${t.checked?"checked":""}>\n            <label for='item_${l}'>${t.todo}</label> \n            <input type = "image"class = "today-list__item-delete delete" id = "${l}" src = "assets/images/delete.png" >\n        </li>`,todo.innerHTML=e,removeTask(),document.querySelector(".header-info__progress").value=lvl,document.querySelector(".lvl-count").innerHTML=String(lvlNumber)}))}function removeTask(){document.querySelectorAll(".today-list__item-delete").forEach((function(e){e.addEventListener("click",(function(){let t=e.getAttribute("id"),l=this.parentNode;l.parentNode.removeChild(l),todoList.splice(t,1),displayMessage(),localStorage.setItem("todo",JSON.stringify(todoList))}))}))}document.querySelector(".lvl-count").innerHTML=String(lvlNumber),newDay=document.querySelector(".header-info__button"),localStorage.getItem("todo")&&(todoList=JSON.parse(localStorage.getItem("todo")),displayMessage()),localStorage.getItem("lvlprogress")&&(lvl=JSON.parse(localStorage.getItem("lvlprogress")),displayMessage()),localStorage.getItem("lvlnumber")&&(lvlNumber=JSON.parse(localStorage.getItem("lvlnumber")),displayMessage()),newDay.addEventListener("click",(function(){todoList.forEach((function(e){e.checked=!1,localStorage.setItem("todo",JSON.stringify(todoList)),displayMessage()}))})),addMessage.addEventListener("keydown",(function(e){if(13===e.keyCode){if(!addMessage.value)return;let e={todo:addMessage.value,checked:!1};todoList.push(e),displayMessage(),localStorage.setItem("todo",JSON.stringify(todoList)),addMessage.value="",localStorage.setItem("lvlprogress",JSON.stringify(lvl)),localStorage.setItem("lvlnumber",JSON.stringify(lvlNumber))}})),todo.addEventListener("change",(function(e){let t=e.target.getAttribute("id"),l=todo.querySelector("[for="+t+"]").innerHTML;todoList.forEach((function(e){e.todo===l&&(e.checked=!e.checked,localStorage.setItem("todo",JSON.stringify(todoList)),!0===e.checked?(lvl=document.querySelector(".header-info__progress").value+=10,localStorage.setItem("lvlprogress",lvl)):(lvl=document.querySelector(".header-info__progress").value-=10,localStorage.setItem("lvlprogress",lvl)))})),lvl>=100&&(lvl=0,lvlNumber=+lvlNumber+1,document.querySelector(".lvl-count").innerHTML=String(lvlNumber),localStorage.setItem("lvlnumber",lvlNumber),localStorage.setItem("lvlprogress",lvl),displayMessage()),lvl<0&&(lvl=100,lvlNumber=+lvlNumber-1,document.querySelector(".lvl-count").innerHTML=String(lvlNumber),localStorage.setItem("lvlnumber",lvlNumber),localStorage.setItem("lvlprogress",lvl),displayMessage())})),removeTask();